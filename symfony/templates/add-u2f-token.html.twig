{% extends "base.html.twig" %}

{% block title "Register" %}

{% block scripts %}
<script src="jquery.min.js"></script>
<script src="u2f-api.js"></script>
<script>
  const completeRegistration = function fCompleteRegistration(registerResponse)
  {
    console.log(registerResponse);
    $('#{{ form.u2fTokenResponse.vars.id }}').val(JSON.stringify(registerResponse));
  }
  var request = {{ request_json | raw }};
  var sign_requests = {{ sign_requests }};
  u2f.register([request], sign_requests, completeRegistration);
</script>
{% endblock %}
{% block body %}
{{ form(form) }}
{% endblock %}