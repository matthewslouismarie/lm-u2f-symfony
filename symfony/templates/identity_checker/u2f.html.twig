{% extends 'base.html.twig' %}

{% block scripts %}
<script src="{{ asset('jquery.min.js') }}"></script>
<script src="{{ asset('u2f-api.js') }}"></script>
<script>
  const completeAuth = function fCompleteAuth(authResponse)
  {
    console.log(authResponse);
    $('#{{ form.u2fTokenResponse.vars.id }}').val(JSON.stringify(authResponse));
    console.log(JSON.stringify(authResponse));
  }
  var sign_requests = {{ sign_requests_json | raw }};
  u2f.sign(sign_requests, completeAuth);
</script>
{% endblock %}

{% block body %}
Please activate your U2F key.
{{ form(form) }}
{% endblock %}